<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acquire - Game Board</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="host-container">
        <header class="host-header">
            <div class="room-info">
                <span class="room-label">Room Code:</span>
                <span class="room-code" id="room-code">{{ room_code }}</span>
            </div>
            <h1>Acquire</h1>
            <div class="turn-indicator">
                <span class="turn-label">Current Turn:</span>
                <span class="current-player" id="current-player">Waiting...</span>
            </div>
        </header>

        <main class="host-main">
            {% if not display_mode %}
            <section class="lobby-controls" id="lobby-controls">
                <h2>Game Controls</h2>
                <div class="control-buttons">
                    <button class="btn btn-primary" id="start-game-btn" onclick="AcquireHost.startGame()" disabled>
                        Start Game
                    </button>
                    <button class="btn btn-secondary" id="add-bot-btn" onclick="AcquireHost.addBot()">
                        Add Bot
                    </button>
                </div>
                <p class="player-count">Players: <span id="player-count">0</span>/6 (min 2 to start)</p>
            </section>
            {% else %}
            <section class="display-mode-banner" id="display-mode-banner">
                <p>TV Display Mode</p>
            </section>
            {% endif %}

            <section class="board-section">
                <div class="game-board" id="game-board">
                    <!-- Column headers -->
                    <div class="board-corner"></div>
                    <div class="column-header">1</div>
                    <div class="column-header">2</div>
                    <div class="column-header">3</div>
                    <div class="column-header">4</div>
                    <div class="column-header">5</div>
                    <div class="column-header">6</div>
                    <div class="column-header">7</div>
                    <div class="column-header">8</div>
                    <div class="column-header">9</div>
                    <div class="column-header">10</div>
                    <div class="column-header">11</div>
                    <div class="column-header">12</div>

                    <!-- Row A -->
                    <div class="row-header">A</div>
                    <div class="board-cell" id="cell-1-A" data-col="1" data-row="A"></div>
                    <div class="board-cell" id="cell-2-A" data-col="2" data-row="A"></div>
                    <div class="board-cell" id="cell-3-A" data-col="3" data-row="A"></div>
                    <div class="board-cell" id="cell-4-A" data-col="4" data-row="A"></div>
                    <div class="board-cell" id="cell-5-A" data-col="5" data-row="A"></div>
                    <div class="board-cell" id="cell-6-A" data-col="6" data-row="A"></div>
                    <div class="board-cell" id="cell-7-A" data-col="7" data-row="A"></div>
                    <div class="board-cell" id="cell-8-A" data-col="8" data-row="A"></div>
                    <div class="board-cell" id="cell-9-A" data-col="9" data-row="A"></div>
                    <div class="board-cell" id="cell-10-A" data-col="10" data-row="A"></div>
                    <div class="board-cell" id="cell-11-A" data-col="11" data-row="A"></div>
                    <div class="board-cell" id="cell-12-A" data-col="12" data-row="A"></div>

                    <!-- Row B -->
                    <div class="row-header">B</div>
                    <div class="board-cell" id="cell-1-B" data-col="1" data-row="B"></div>
                    <div class="board-cell" id="cell-2-B" data-col="2" data-row="B"></div>
                    <div class="board-cell" id="cell-3-B" data-col="3" data-row="B"></div>
                    <div class="board-cell" id="cell-4-B" data-col="4" data-row="B"></div>
                    <div class="board-cell" id="cell-5-B" data-col="5" data-row="B"></div>
                    <div class="board-cell" id="cell-6-B" data-col="6" data-row="B"></div>
                    <div class="board-cell" id="cell-7-B" data-col="7" data-row="B"></div>
                    <div class="board-cell" id="cell-8-B" data-col="8" data-row="B"></div>
                    <div class="board-cell" id="cell-9-B" data-col="9" data-row="B"></div>
                    <div class="board-cell" id="cell-10-B" data-col="10" data-row="B"></div>
                    <div class="board-cell" id="cell-11-B" data-col="11" data-row="B"></div>
                    <div class="board-cell" id="cell-12-B" data-col="12" data-row="B"></div>

                    <!-- Row C -->
                    <div class="row-header">C</div>
                    <div class="board-cell" id="cell-1-C" data-col="1" data-row="C"></div>
                    <div class="board-cell" id="cell-2-C" data-col="2" data-row="C"></div>
                    <div class="board-cell" id="cell-3-C" data-col="3" data-row="C"></div>
                    <div class="board-cell" id="cell-4-C" data-col="4" data-row="C"></div>
                    <div class="board-cell" id="cell-5-C" data-col="5" data-row="C"></div>
                    <div class="board-cell" id="cell-6-C" data-col="6" data-row="C"></div>
                    <div class="board-cell" id="cell-7-C" data-col="7" data-row="C"></div>
                    <div class="board-cell" id="cell-8-C" data-col="8" data-row="C"></div>
                    <div class="board-cell" id="cell-9-C" data-col="9" data-row="C"></div>
                    <div class="board-cell" id="cell-10-C" data-col="10" data-row="C"></div>
                    <div class="board-cell" id="cell-11-C" data-col="11" data-row="C"></div>
                    <div class="board-cell" id="cell-12-C" data-col="12" data-row="C"></div>

                    <!-- Row D -->
                    <div class="row-header">D</div>
                    <div class="board-cell" id="cell-1-D" data-col="1" data-row="D"></div>
                    <div class="board-cell" id="cell-2-D" data-col="2" data-row="D"></div>
                    <div class="board-cell" id="cell-3-D" data-col="3" data-row="D"></div>
                    <div class="board-cell" id="cell-4-D" data-col="4" data-row="D"></div>
                    <div class="board-cell" id="cell-5-D" data-col="5" data-row="D"></div>
                    <div class="board-cell" id="cell-6-D" data-col="6" data-row="D"></div>
                    <div class="board-cell" id="cell-7-D" data-col="7" data-row="D"></div>
                    <div class="board-cell" id="cell-8-D" data-col="8" data-row="D"></div>
                    <div class="board-cell" id="cell-9-D" data-col="9" data-row="D"></div>
                    <div class="board-cell" id="cell-10-D" data-col="10" data-row="D"></div>
                    <div class="board-cell" id="cell-11-D" data-col="11" data-row="D"></div>
                    <div class="board-cell" id="cell-12-D" data-col="12" data-row="D"></div>

                    <!-- Row E -->
                    <div class="row-header">E</div>
                    <div class="board-cell" id="cell-1-E" data-col="1" data-row="E"></div>
                    <div class="board-cell" id="cell-2-E" data-col="2" data-row="E"></div>
                    <div class="board-cell" id="cell-3-E" data-col="3" data-row="E"></div>
                    <div class="board-cell" id="cell-4-E" data-col="4" data-row="E"></div>
                    <div class="board-cell" id="cell-5-E" data-col="5" data-row="E"></div>
                    <div class="board-cell" id="cell-6-E" data-col="6" data-row="E"></div>
                    <div class="board-cell" id="cell-7-E" data-col="7" data-row="E"></div>
                    <div class="board-cell" id="cell-8-E" data-col="8" data-row="E"></div>
                    <div class="board-cell" id="cell-9-E" data-col="9" data-row="E"></div>
                    <div class="board-cell" id="cell-10-E" data-col="10" data-row="E"></div>
                    <div class="board-cell" id="cell-11-E" data-col="11" data-row="E"></div>
                    <div class="board-cell" id="cell-12-E" data-col="12" data-row="E"></div>

                    <!-- Row F -->
                    <div class="row-header">F</div>
                    <div class="board-cell" id="cell-1-F" data-col="1" data-row="F"></div>
                    <div class="board-cell" id="cell-2-F" data-col="2" data-row="F"></div>
                    <div class="board-cell" id="cell-3-F" data-col="3" data-row="F"></div>
                    <div class="board-cell" id="cell-4-F" data-col="4" data-row="F"></div>
                    <div class="board-cell" id="cell-5-F" data-col="5" data-row="F"></div>
                    <div class="board-cell" id="cell-6-F" data-col="6" data-row="F"></div>
                    <div class="board-cell" id="cell-7-F" data-col="7" data-row="F"></div>
                    <div class="board-cell" id="cell-8-F" data-col="8" data-row="F"></div>
                    <div class="board-cell" id="cell-9-F" data-col="9" data-row="F"></div>
                    <div class="board-cell" id="cell-10-F" data-col="10" data-row="F"></div>
                    <div class="board-cell" id="cell-11-F" data-col="11" data-row="F"></div>
                    <div class="board-cell" id="cell-12-F" data-col="12" data-row="F"></div>

                    <!-- Row G -->
                    <div class="row-header">G</div>
                    <div class="board-cell" id="cell-1-G" data-col="1" data-row="G"></div>
                    <div class="board-cell" id="cell-2-G" data-col="2" data-row="G"></div>
                    <div class="board-cell" id="cell-3-G" data-col="3" data-row="G"></div>
                    <div class="board-cell" id="cell-4-G" data-col="4" data-row="G"></div>
                    <div class="board-cell" id="cell-5-G" data-col="5" data-row="G"></div>
                    <div class="board-cell" id="cell-6-G" data-col="6" data-row="G"></div>
                    <div class="board-cell" id="cell-7-G" data-col="7" data-row="G"></div>
                    <div class="board-cell" id="cell-8-G" data-col="8" data-row="G"></div>
                    <div class="board-cell" id="cell-9-G" data-col="9" data-row="G"></div>
                    <div class="board-cell" id="cell-10-G" data-col="10" data-row="G"></div>
                    <div class="board-cell" id="cell-11-G" data-col="11" data-row="G"></div>
                    <div class="board-cell" id="cell-12-G" data-col="12" data-row="G"></div>

                    <!-- Row H -->
                    <div class="row-header">H</div>
                    <div class="board-cell" id="cell-1-H" data-col="1" data-row="H"></div>
                    <div class="board-cell" id="cell-2-H" data-col="2" data-row="H"></div>
                    <div class="board-cell" id="cell-3-H" data-col="3" data-row="H"></div>
                    <div class="board-cell" id="cell-4-H" data-col="4" data-row="H"></div>
                    <div class="board-cell" id="cell-5-H" data-col="5" data-row="H"></div>
                    <div class="board-cell" id="cell-6-H" data-col="6" data-row="H"></div>
                    <div class="board-cell" id="cell-7-H" data-col="7" data-row="H"></div>
                    <div class="board-cell" id="cell-8-H" data-col="8" data-row="H"></div>
                    <div class="board-cell" id="cell-9-H" data-col="9" data-row="H"></div>
                    <div class="board-cell" id="cell-10-H" data-col="10" data-row="H"></div>
                    <div class="board-cell" id="cell-11-H" data-col="11" data-row="H"></div>
                    <div class="board-cell" id="cell-12-H" data-col="12" data-row="H"></div>

                    <!-- Row I -->
                    <div class="row-header">I</div>
                    <div class="board-cell" id="cell-1-I" data-col="1" data-row="I"></div>
                    <div class="board-cell" id="cell-2-I" data-col="2" data-row="I"></div>
                    <div class="board-cell" id="cell-3-I" data-col="3" data-row="I"></div>
                    <div class="board-cell" id="cell-4-I" data-col="4" data-row="I"></div>
                    <div class="board-cell" id="cell-5-I" data-col="5" data-row="I"></div>
                    <div class="board-cell" id="cell-6-I" data-col="6" data-row="I"></div>
                    <div class="board-cell" id="cell-7-I" data-col="7" data-row="I"></div>
                    <div class="board-cell" id="cell-8-I" data-col="8" data-row="I"></div>
                    <div class="board-cell" id="cell-9-I" data-col="9" data-row="I"></div>
                    <div class="board-cell" id="cell-10-I" data-col="10" data-row="I"></div>
                    <div class="board-cell" id="cell-11-I" data-col="11" data-row="I"></div>
                    <div class="board-cell" id="cell-12-I" data-col="12" data-row="I"></div>
                </div>
            </section>

            <aside class="sidebar">
                <section class="chain-legend">
                    <h2>Hotel Chains</h2>
                    <ul class="chain-list">
                        <li class="chain-item" data-chain="luxor">
                            <span class="chain-color chain-luxor"></span>
                            <span class="chain-name">Luxor</span>
                            <span class="chain-size" id="size-luxor">0</span>
                        </li>
                        <li class="chain-item" data-chain="tower">
                            <span class="chain-color chain-tower"></span>
                            <span class="chain-name">Tower</span>
                            <span class="chain-size" id="size-tower">0</span>
                        </li>
                        <li class="chain-item" data-chain="american">
                            <span class="chain-color chain-american"></span>
                            <span class="chain-name">American</span>
                            <span class="chain-size" id="size-american">0</span>
                        </li>
                        <li class="chain-item" data-chain="festival">
                            <span class="chain-color chain-festival"></span>
                            <span class="chain-name">Festival</span>
                            <span class="chain-size" id="size-festival">0</span>
                        </li>
                        <li class="chain-item" data-chain="worldwide">
                            <span class="chain-color chain-worldwide"></span>
                            <span class="chain-name">Worldwide</span>
                            <span class="chain-size" id="size-worldwide">0</span>
                        </li>
                        <li class="chain-item" data-chain="continental">
                            <span class="chain-color chain-continental"></span>
                            <span class="chain-name">Continental</span>
                            <span class="chain-size" id="size-continental">0</span>
                        </li>
                        <li class="chain-item" data-chain="imperial">
                            <span class="chain-color chain-imperial"></span>
                            <span class="chain-name">Imperial</span>
                            <span class="chain-size" id="size-imperial">0</span>
                        </li>
                    </ul>
                </section>

                <section class="scoreboard">
                    <h2>Players</h2>
                    <table class="player-scores" id="player-scores">
                        <thead>
                            <tr>
                                <th>Player</th>
                                <th>Cash</th>
                                <th class="stock-col">LUX</th>
                                <th class="stock-col">TOW</th>
                                <th class="stock-col">AME</th>
                                <th class="stock-col">FES</th>
                                <th class="stock-col">WOR</th>
                                <th class="stock-col">CON</th>
                                <th class="stock-col">IMP</th>
                            </tr>
                        </thead>
                        <tbody id="player-scores-body">
                            <!-- Player rows will be added dynamically -->
                        </tbody>
                    </table>
                </section>

                <section class="game-log">
                    <h2>Game Log</h2>
                    <div class="log-container" id="game-log">
                        <p class="log-entry">Waiting for game to start...</p>
                    </div>
                </section>
            </aside>
        </main>
    </div>

    <script>
        // Pass Jinja2 variables to JavaScript
        window.HOST_DATA = {
            roomCode: "{{ room_code }}",
            playerId: "{{ player_id }}",
            sessionToken: "{{ session_token }}"
        };
    </script>
    <script type="module" src="/static/js/host/index.js"></script>
</body>
</html>
