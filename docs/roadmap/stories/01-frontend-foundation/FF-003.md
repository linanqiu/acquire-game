# FF-003: Typography System

## Metadata
- **Epic**: Frontend Foundation
- **Status**: `not-started`
- **Priority**: `high`
- **Effort**: `S` (30-60 minutes)
- **Dependencies**: FF-001

## Context

Implement the monospace-first typography system. The design uses IBM Plex Mono as the primary font with a clear size scale. Typography is critical to the "Bloomberg terminal" aesthetic.

## Requirements

1. Add IBM Plex Mono font (Google Fonts or local)
2. Define font family CSS variables
3. Define type scale (XS to XL)
4. Define font weight tokens
5. Create base typography styles
6. Ensure monospace alignment works for numbers

## Acceptance Criteria

- [ ] IBM Plex Mono loads correctly
- [ ] Fallback fonts defined (Fira Code, Consolas, monospace)
- [ ] Type scale variables defined (--text-xs through --text-xl)
- [ ] Font weights defined (normal, medium, bold)
- [ ] Body text renders in monospace
- [ ] Numbers align in tabular format

## Implementation Notes

### Files to Create/Modify

**frontend/src/styles/typography.css**:
```css
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;700&display=swap');

:root {
  /* Font Family */
  --font-primary: "IBM Plex Mono", "Fira Code", "Consolas", monospace;

  /* Type Scale */
  --text-xs: 10px;
  --text-sm: 12px;
  --text-md: 14px;
  --text-lg: 18px;
  --text-xl: 24px;

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-bold: 700;

  /* Line Heights */
  --leading-tight: 1.2;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;
}

/* Base Typography */
body {
  font-family: var(--font-primary);
  font-size: var(--text-md);
  font-weight: var(--font-normal);
  line-height: var(--leading-normal);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Tabular numbers for alignment */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* Headings */
h1, .text-xl { font-size: var(--text-xl); font-weight: var(--font-bold); }
h2, .text-lg { font-size: var(--text-lg); font-weight: var(--font-bold); }
h3, .text-md { font-size: var(--text-md); font-weight: var(--font-medium); }

/* Utility classes */
.text-xs { font-size: var(--text-xs); }
.text-sm { font-size: var(--text-sm); }
.text-md { font-size: var(--text-md); }
.text-lg { font-size: var(--text-lg); }
.text-xl { font-size: var(--text-xl); }

.font-normal { font-weight: var(--font-normal); }
.font-medium { font-weight: var(--font-medium); }
.font-bold { font-weight: var(--font-bold); }
```

### Import in main.tsx
```typescript
import './styles/tokens.css'
import './styles/typography.css'
```

### Type Scale Reference

| Name | Size | Usage |
|------|------|-------|
| XL | 24px | Phase announcements, winner |
| LG | 18px | Section headers, player names |
| MD | 14px | Body text, prices, labels |
| SM | 12px | Secondary info, timestamps |
| XS | 10px | Fine print, helper text |

## Testing Requirements

Create `src/styles/typography.test.ts`:

```typescript
import { describe, it, expect } from 'vitest'
import { render, screen } from '@testing-library/react'

describe('Typography System', () => {
  it('applies monospace font family to body', () => {
    render(<p data-testid="test">Test text</p>)
    const el = screen.getByTestId('test')
    const style = getComputedStyle(el)
    expect(style.fontFamily).toContain('IBM Plex Mono')
  })

  it('defines all type scale variables', () => {
    const root = document.documentElement
    const style = getComputedStyle(root)
    ;['xs', 'sm', 'md', 'lg', 'xl'].forEach(size => {
      expect(style.getPropertyValue(`--text-${size}`)).toBeTruthy()
    })
  })

  it('defines font weight variables', () => {
    const root = document.documentElement
    const style = getComputedStyle(root)
    expect(style.getPropertyValue('--font-normal')).toBeTruthy()
    expect(style.getPropertyValue('--font-medium')).toBeTruthy()
    expect(style.getPropertyValue('--font-bold')).toBeTruthy()
  })

  it('applies tabular-nums class correctly', () => {
    render(<span className="tabular-nums" data-testid="num">1234</span>)
    const el = screen.getByTestId('num')
    expect(el).toHaveClass('tabular-nums')
  })
})
```

**Minimum test coverage:**
- Font family applied correctly
- Type scale variables defined
- Font weight variables defined
- Utility classes work

## Verification

```bash
npm run test -- --grep "Typography"
npm run dev
# Visual check: All text should be monospace IBM Plex Mono
# Check DevTools > Network for font loading
```

## Reference

- [Design System - Typography](../../../ui/design-system.md#typography)
