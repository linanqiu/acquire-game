# FF-010: Routing Setup

## Metadata
- **Epic**: Frontend Foundation
- **Status**: `not-started`
- **Priority**: `high`
- **Effort**: `S` (30-60 minutes)
- **Dependencies**: FF-001

## Context

Set up React Router with the three main routes: Lobby (/), Player View (/play/:room), and Host View (/host/:room). Include 404 handling and route guards.

## Requirements

1. Install and configure React Router v6
2. Define routes for lobby, player, and host views
3. Extract room code from URL params
4. 404 page for unknown routes
5. Redirect logic if needed

## Acceptance Criteria

- [ ] `/` renders Lobby page
- [ ] `/play/:room` renders Player View with room param
- [ ] `/host/:room` renders Host View with room param
- [ ] Unknown routes show 404 page
- [ ] Room code extracted from URL is accessible
- [ ] Navigation works without page reload
- [ ] Browser back/forward works correctly

## Implementation Notes

### Install React Router
```bash
cd frontend
npm install react-router-dom
```

### File to Create/Modify

**frontend/src/App.tsx**:
```tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom'
import { ToastProvider } from './components/ui/ToastProvider'
import { LobbyPage } from './pages/LobbyPage'
import { PlayerPage } from './pages/PlayerPage'
import { HostPage } from './pages/HostPage'
import { NotFoundPage } from './pages/NotFoundPage'

export function App() {
  return (
    <BrowserRouter>
      <ToastProvider>
        <Routes>
          <Route path="/" element={<LobbyPage />} />
          <Route path="/play/:room" element={<PlayerPage />} />
          <Route path="/host/:room" element={<HostPage />} />
          <Route path="*" element={<NotFoundPage />} />
        </Routes>
      </ToastProvider>
    </BrowserRouter>
  )
}
```

**frontend/src/pages/LobbyPage.tsx** (placeholder):
```tsx
export function LobbyPage() {
  return <div>Lobby Page - Coming in GU-001</div>
}
```

**frontend/src/pages/PlayerPage.tsx** (placeholder):
```tsx
import { useParams } from 'react-router-dom'

export function PlayerPage() {
  const { room } = useParams<{ room: string }>()
  return <div>Player View - Room: {room}</div>
}
```

**frontend/src/pages/HostPage.tsx** (placeholder):
```tsx
import { useParams } from 'react-router-dom'

export function HostPage() {
  const { room } = useParams<{ room: string }>()
  return <div>Host View - Room: {room}</div>
}
```

**frontend/src/pages/NotFoundPage.tsx**:
```tsx
import { Link } from 'react-router-dom'
import { PageShell } from '../components/ui/PageShell'
import { Button } from '../components/ui/Button'

export function NotFoundPage() {
  return (
    <PageShell>
      <div style={{ textAlign: 'center', padding: '4rem' }}>
        <h1>404</h1>
        <p>Page not found</p>
        <Link to="/">
          <Button>Back to Lobby</Button>
        </Link>
      </div>
    </PageShell>
  )
}
```

**frontend/src/pages/index.ts**:
```tsx
export { LobbyPage } from './LobbyPage'
export { PlayerPage } from './PlayerPage'
export { HostPage } from './HostPage'
export { NotFoundPage } from './NotFoundPage'
```

### Custom Hook for Room
```tsx
// frontend/src/hooks/useRoom.ts
import { useParams } from 'react-router-dom'

export function useRoom() {
  const { room } = useParams<{ room: string }>()
  return room?.toUpperCase() ?? ''
}
```

## Verification

```bash
npm run dev

# Test each route:
# - http://localhost:5173/
# - http://localhost:5173/play/ABCD
# - http://localhost:5173/host/ABCD
# - http://localhost:5173/invalid (should show 404)

# Test browser navigation:
# - Navigate between pages
# - Use back/forward buttons
```

## Reference

- [Storyboard - Page Inventory](../../../ui/storyboard.md#page-inventory)
- [React Router Docs](https://reactrouter.com/)
