# DP-001: Railway Setup

## Metadata
- **Epic**: Deployment
- **Status**: `not-started`
- **Priority**: `high`
- **Effort**: `S` (30-60 minutes)
- **Dependencies**: None

## Context

Set up Railway deployment for the Acquire backend. Railway provides simple container deployment with automatic builds from Dockerfile.

> **Note**: The `railway.toml` file was temporarily removed to prevent deployment costs while the frontend is not yet available. This story includes recreating that file.

## Requirements

1. Create Railway project
2. Connect GitHub repository
3. Configure automatic deployments
4. Verify Docker image builds correctly

## Acceptance Criteria

- [ ] Railway project created and linked to repo
- [ ] Automatic deploys on push to main
- [ ] Docker image builds successfully
- [ ] Service starts without errors
- [ ] Public URL accessible

## Implementation Notes

### Railway Configuration

**railway.toml** (create in root):
```toml
[build]
builder = "dockerfile"
dockerfilePath = "backend/Dockerfile"

[deploy]
startCommand = "uvicorn main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
```

### Steps

1. Go to [railway.app](https://railway.app)
2. Create new project from GitHub repo
3. Select the repository
4. Railway auto-detects Dockerfile
5. Deploy and verify

### Dockerfile Check

The existing `backend/Dockerfile` should work. Verify it exposes the correct port:
```dockerfile
EXPOSE 8000
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

## Verification

```bash
# After deployment, test the health endpoint
curl https://your-app.railway.app/health

# Expected response
{"status": "ok"}
```

## Reference

- [Railway Documentation](https://docs.railway.app/)
- [Railway Docker Deployments](https://docs.railway.app/deploy/dockerfiles)
