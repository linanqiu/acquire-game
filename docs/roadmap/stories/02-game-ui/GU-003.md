# GU-003: Tile Component

## Metadata
- **Epic**: Game UI
- **Status**: `complete`
- **Priority**: `critical`
- **Effort**: `M` (1-2 hours)
- **Dependencies**: FF-002, FF-004

## Context

Individual tile component used both on the board and in the player's tile rack. Must display coordinate label, chain assignment, and various visual states (selected, disabled, merger warning, dead).

## Requirements

1. Display coordinate label (e.g., "3B", "12I")
2. Show chain color when assigned
3. Support multiple visual states
4. Click interaction for rack tiles
5. Size variants matching Board sizes

## Acceptance Criteria

- [x] Coordinate label renders correctly
- [x] Empty tile has neutral background
- [x] Orphan tile has distinct color (#4a4a5a)
- [x] Chain tiles show correct chain color
- [x] Selected state: elevated shadow, bright border
- [x] Disabled state: dimmed, lock icon
- [x] Merger state: warning indicator (!!)
- [x] Dead state: crossed out (X)
- [x] Highlighted state: subtle glow
- [x] Click handler works when provided
- [x] Size variants (sm, md, lg)
- [x] Unit tests for all states

## Implementation Notes

### File to Create

**frontend/src/components/game/Tile.tsx**:
```tsx
import styles from './Tile.module.css'
import type { ChainName, Coordinate } from '../../types/game'

type TileVisualState = 'default' | 'selected' | 'disabled' | 'merger' | 'dead' | 'highlighted'

interface TileProps {
  coordinate: Coordinate
  chain?: ChainName | 'orphan'
  state?: TileVisualState
  highlighted?: boolean
  onClick?: () => void
  size?: 'sm' | 'md' | 'lg'
  showLabel?: boolean
}

export function Tile({
  coordinate,
  chain,
  state = 'default',
  highlighted = false,
  onClick,
  size = 'md',
  showLabel = true,
}: TileProps) {
  const classes = [
    styles.tile,
    styles[size],
    styles[state],
    chain ? styles[chain] : styles.empty,
    highlighted ? styles.highlighted : '',
    onClick ? styles.interactive : '',
  ].filter(Boolean).join(' ')

  return (
    <div
      className={classes}
      onClick={state !== 'disabled' ? onClick : undefined}
      role={onClick ? 'button' : undefined}
      tabIndex={onClick && state !== 'disabled' ? 0 : undefined}
      onKeyDown={(e) => {
        if (onClick && (e.key === 'Enter' || e.key === ' ')) {
          e.preventDefault()
          onClick()
        }
      }}
    >
      {showLabel && <span className={styles.label}>{coordinate}</span>}
      {state === 'merger' && <span className={styles.indicator}>!!</span>}
      {state === 'disabled' && <span className={styles.indicator}>ðŸ”’</span>}
      {state === 'dead' && <span className={styles.indicator}>âœ•</span>}
    </div>
  )
}
```

**frontend/src/components/game/Tile.module.css**:
```css
.tile {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border-radius: var(--radius-sm);
  font-family: var(--font-primary);
  transition: all var(--duration-fast) var(--ease-default);
}

.label {
  font-weight: var(--font-medium);
}

.indicator {
  position: absolute;
  bottom: 2px;
  right: 2px;
  font-size: 0.6em;
}

/* Size variants */
.sm { width: 20px; height: 20px; font-size: 8px; }
.md { width: 28px; height: 28px; font-size: 10px; }
.lg { width: 40px; height: 40px; font-size: 14px; }

/* Chain colors */
.empty { background-color: var(--bg-secondary); color: var(--text-secondary); }
.orphan { background-color: #4a4a5a; color: var(--text-primary); }
.luxor { background-color: var(--chain-luxor); color: var(--bg-primary); }
.tower { background-color: var(--chain-tower); color: var(--text-primary); }
.american { background-color: var(--chain-american); color: var(--text-primary); }
.festival { background-color: var(--chain-festival); color: var(--text-primary); }
.worldwide { background-color: var(--chain-worldwide); color: var(--text-primary); }
.continental { background-color: var(--chain-continental); color: var(--text-primary); }
.imperial { background-color: var(--chain-imperial); color: var(--text-primary); }

/* Visual states */
.default { border: 1px solid transparent; }
.selected {
  border: 2px solid var(--text-accent);
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}
.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.merger {
  border: 2px solid #ffaa00;
}
.dead {
  opacity: 0.3;
  text-decoration: line-through;
}
.highlighted {
  box-shadow: 0 0 8px currentColor;
}

/* Interactive */
.interactive {
  cursor: pointer;
}
.interactive:hover:not(.disabled) {
  filter: brightness(1.1);
}
```

## Verification

```bash
npm run test -- --grep "Tile"

# Visual test page showing all tile variants
npm run dev
```

## Reference

- [Components Spec - Tile](../../../ui/components.md#tile)
- [Design System - Interactive States](../../../ui/design-system.md#interactive-states)
