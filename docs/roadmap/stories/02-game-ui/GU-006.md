# GU-006: Player Card

## Metadata
- **Epic**: Game UI
- **Status**: `complete`
- **Priority**: `high`
- **Effort**: `M` (1-2 hours)
- **Dependencies**: FF-005, GU-005

## Context

Displays player information in the scoreboard: name, cash balance, stock holdings. Used in both host view (all players visible) and player view (compact portfolio strip).

## Requirements

1. Display player name and cash balance
2. Show stock holdings using ChainMarker
3. Indicate current turn with visual marker
4. Show badges for host/bot status
5. Compact variant for portfolio strip

## Acceptance Criteria

- [x] Player name displays prominently
- [x] Cash formatted with $ and commas
- [x] Stock holdings show chain abbreviation + count
- [x] Current turn player has > marker
- [x] Host badge displays when isHost=true
- [x] Bot badge displays when isBot=true
- [x] Compact variant for horizontal strip
- [x] Unit tests for all states

## Implementation Notes

### File to Create

**frontend/src/components/game/PlayerCard.tsx**:
```tsx
import { ChainMarker } from './ChainMarker'
import { Badge } from '../ui/Badge'
import styles from './PlayerCard.module.css'
import type { ChainName } from '../../types/game'

interface StockHolding {
  chain: ChainName
  quantity: number
}

interface PlayerCardProps {
  name: string
  cash: number
  stocks: StockHolding[]
  isCurrentTurn?: boolean
  isHost?: boolean
  isBot?: boolean
  variant?: 'full' | 'compact'
}

export function PlayerCard({
  name,
  cash,
  stocks,
  isCurrentTurn = false,
  isHost = false,
  isBot = false,
  variant = 'full',
}: PlayerCardProps) {
  const stocksWithQuantity = stocks.filter((s) => s.quantity > 0)

  if (variant === 'compact') {
    return (
      <div className={styles.compact}>
        <span className={styles.compactName}>{name}</span>
        <span className={styles.compactCash}>${cash.toLocaleString()}</span>
        <div className={styles.compactStocks}>
          {stocksWithQuantity.map((s) => (
            <span key={s.chain} className={styles.compactStock}>
              <ChainMarker chain={s.chain} variant="icon" />
              {s.quantity}
            </span>
          ))}
        </div>
      </div>
    )
  }

  return (
    <div className={`${styles.card} ${isCurrentTurn ? styles.active : ''}`}>
      <div className={styles.header}>
        {isCurrentTurn && <span className={styles.turnMarker}>&gt;</span>}
        <span className={styles.name}>{name}</span>
        <div className={styles.badges}>
          {isHost && <Badge label="HOST" />}
          {isBot && <Badge label="BOT" />}
        </div>
        <span className={styles.cash}>${cash.toLocaleString()}</span>
      </div>
      {stocksWithQuantity.length > 0 && (
        <div className={styles.stocks}>
          {stocksWithQuantity.map((s) => (
            <span key={s.chain} className={styles.stock}>
              <ChainMarker chain={s.chain} variant="compact" />:{s.quantity}
            </span>
          ))}
        </div>
      )}
    </div>
  )
}
```

**frontend/src/components/game/PlayerCard.module.css**:
```css
.card {
  padding: var(--space-3);
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
}

.active {
  border-left: 3px solid var(--text-accent);
  background-color: var(--bg-tertiary);
}

.header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.turnMarker {
  color: var(--text-positive);
  font-weight: var(--font-bold);
}

.name {
  flex: 1;
  font-weight: var(--font-medium);
}

.badges {
  display: flex;
  gap: var(--space-1);
}

.cash {
  font-variant-numeric: tabular-nums;
  color: var(--text-positive);
}

.stocks {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-top: var(--space-2);
  font-size: var(--text-sm);
}

.stock {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

/* Compact variant */
.compact {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2);
}

.compactName {
  font-weight: var(--font-medium);
}

.compactCash {
  color: var(--text-positive);
}

.compactStocks {
  display: flex;
  gap: var(--space-2);
}

.compactStock {
  display: flex;
  align-items: center;
  gap: 2px;
  font-size: var(--text-sm);
}
```

## Verification

```bash
npm run test -- --grep "PlayerCard"

# Visual: render player cards with various states
npm run dev
```

## Reference

- [Components Spec - PlayerCard](../../../ui/components.md#playercard)
- [Storyboard - Scoreboard](../../../ui/storyboard.md#screen-3-host-view-hostroom)
