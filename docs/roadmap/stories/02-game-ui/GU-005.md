# GU-005: Chain Marker

## Metadata
- **Epic**: Game UI
- **Status**: `complete`
- **Priority**: `high`
- **Effort**: `S` (30-60 minutes)
- **Dependencies**: FF-004

## Context

Visual indicator for hotel chains, used throughout the UI: in scoreboard, chain selection, board legend, and stock displays. Supports multiple display variants from icon-only to full details.

## Requirements

1. Three variants: icon, compact, full
2. Display chain color and abbreviation
3. Show size, price, availability (full variant)
4. Safe badge for chains with 11+ tiles
5. Pixel logo for each chain (8x8)

## Acceptance Criteria

- [x] Icon variant: 16x16 colored square/logo (increased from 8x8 for readability)
- [x] Compact variant: icon + abbreviation (e.g., "[L] LUX")
- [x] Full variant: icon + name + size + price + available
- [x] Safe chains display [SAFE] badge
- [x] Correct colors for all 7 chains
- [x] Abbreviations match spec (LUX, TWR, AME, FES, WOR, CON, IMP)
- [x] Unit tests for all variants

## Implementation Notes

### File to Create

**frontend/src/components/game/ChainMarker.tsx**:
```tsx
import styles from './ChainMarker.module.css'
import { Badge } from '../ui/Badge'
import type { ChainName } from '../../types/game'

const CHAIN_ABBREV: Record<ChainName, string> = {
  luxor: 'LUX',
  tower: 'TWR',
  american: 'AME',
  festival: 'FES',
  worldwide: 'WOR',
  continental: 'CON',
  imperial: 'IMP',
}

const CHAIN_NAMES: Record<ChainName, string> = {
  luxor: 'LUXOR',
  tower: 'TOWER',
  american: 'AMERICAN',
  festival: 'FESTIVAL',
  worldwide: 'WORLDWIDE',
  continental: 'CONTINENTAL',
  imperial: 'IMPERIAL',
}

interface ChainMarkerProps {
  chain: ChainName
  size?: number
  price?: number
  available?: number
  safe?: boolean
  variant?: 'icon' | 'compact' | 'full'
}

export function ChainMarker({
  chain,
  size,
  price,
  available,
  safe = false,
  variant = 'compact',
}: ChainMarkerProps) {
  const abbrev = CHAIN_ABBREV[chain]
  const name = CHAIN_NAMES[chain]

  if (variant === 'icon') {
    return (
      <div className={`${styles.icon} ${styles[chain]}`} title={name}>
        {abbrev[0]}
      </div>
    )
  }

  if (variant === 'compact') {
    return (
      <span className={styles.compact}>
        <span className={`${styles.icon} ${styles[chain]}`}>{abbrev[0]}</span>
        <span className={styles.abbrev}>{abbrev}</span>
        {safe && <Badge label="SAFE" variant="safe" />}
      </span>
    )
  }

  // Full variant
  return (
    <div className={styles.full}>
      <span className={`${styles.icon} ${styles[chain]}`}>{abbrev[0]}</span>
      <span className={styles.name}>{name}</span>
      {size !== undefined && <span className={styles.size}>{size} tiles</span>}
      {price !== undefined && (
        <span className={styles.price}>${price.toLocaleString()}/share</span>
      )}
      {available !== undefined && (
        <span className={styles.available}>[{available}]</span>
      )}
      {safe && <Badge label="SAFE" variant="safe" />}
    </div>
  )
}
```

**frontend/src/components/game/ChainMarker.module.css**:
```css
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  font-weight: var(--font-bold);
}

/* Chain colors */
.luxor { background-color: var(--chain-luxor); color: var(--bg-primary); }
.tower { background-color: var(--chain-tower); color: var(--text-primary); }
.american { background-color: var(--chain-american); color: var(--text-primary); }
.festival { background-color: var(--chain-festival); color: var(--text-primary); }
.worldwide { background-color: var(--chain-worldwide); color: var(--text-primary); }
.continental { background-color: var(--chain-continental); color: var(--text-primary); }
.imperial { background-color: var(--chain-imperial); color: var(--text-primary); }

.compact {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
}

.abbrev {
  font-size: var(--text-sm);
  color: var(--text-primary);
}

.full {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background-color: var(--bg-secondary);
  border-radius: var(--radius-sm);
}

.name {
  font-weight: var(--font-medium);
  min-width: 100px;
}

.size, .price, .available {
  font-size: var(--text-sm);
  color: var(--text-secondary);
}
```

## Verification

```bash
npm run test -- --grep "ChainMarker"

# Visual: display all chains in all variants
npm run dev
```

## Reference

- [Components Spec - ChainMarker](../../../ui/components.md#chainmarker)
- [Design System - Chain Colors](../../../ui/design-system.md#hotel-chain-colors)
